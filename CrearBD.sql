use master
go
IF NOT EXISTS(SELECT name FROM master.dbo.sysdatabases WHERE NAME = 'DBGSS')
CREATE DATABASE DBGSS

GO 

USE DBGSS

GO

if not exists (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND TABLE_NAME = 'CARRO')
create table CARRO(
ID int primary key identity(1,1),
PLACA varchar(60),
MARCA varchar(60),
MODELO varchar(60),
COSTO money,
DISPONIBLE varchar(60)
)

go

if not exists (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND TABLE_NAME = 'ClIENTE')
create table CLIENTE(
ID int primary key identity(1,1),
CEDULA int,
NOMBRE varchar(60),
TELEFONO1 int,
TELEFONO2 int
)

go

if not exists (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND TABLE_NAME = 'ALQUILER')
create table ALQUILER(
ID int primary key identity(1,1),
FECHA date,
TIEMPO int,
VALORTOTAL money,
SALDO money,
ABONOINICIAL money,
DEVUELTO varchar(60),
carroId int,
clienteId int
CONSTRAINT FK_CARROID FOREIGN KEY (carroId) REFERENCES CARRO(ID),
CONSTRAINT FK_CLIENTEID FOREIGN KEY (clienteId) REFERENCES CLIENTE(ID)
)

go

if not exists (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'dbo' AND TABLE_NAME = 'PAGOS')
create table PAGOS(
ID int primary key identity(1,1),
FECHA date,
VALOR money,
alquilerId int,
CONSTRAINT FK_ALQUILERID FOREIGN KEY (alquilerId) REFERENCES ALQUILER(ID)
)

go

USE [DBGSS]

GO
SET IDENTITY_INSERT [dbo].[CLIENTE] ON 

INSERT [dbo].[CLIENTE] ( [ID], [CEDULA], [NOMBRE], [TELEFONO1], [TELEFONO2]) VALUES (1, 123547, N'JUAN JAMINTON YATE', 123456, 12345)
INSERT [dbo].[CLIENTE] ( [ID], [CEDULA], [NOMBRE], [TELEFONO1], [TELEFONO2]) VALUES (2, 869638, N'PEPITO PEREZ', 1598, 4789)
INSERT [dbo].[CLIENTE] ( [ID], [CEDULA], [NOMBRE], [TELEFONO1], [TELEFONO2]) VALUES (3, 798725, N'ELIZABETH HOLSIN', 86966, 8968)
INSERT [dbo].[CLIENTE] ( [ID], [CEDULA], [NOMBRE], [TELEFONO1], [TELEFONO2]) VALUES (4, 5222635, N'FOREST GAM', 123456, 96896)


SET IDENTITY_INSERT [dbo].[CLIENTE] OFF

GO
SET IDENTITY_INSERT [dbo].[CARRO] ON 

INSERT [dbo].[CARRO] ( [ID], [PLACA], [MARCA], [MODELO], [COSTO], [DISPONIBLE]) VALUES (1, N'ABC123', N'TESLA', N'V-4', 90000000, N'SI')
INSERT [dbo].[CARRO] ( [ID], [PLACA], [MARCA], [MODELO], [COSTO], [DISPONIBLE]) VALUES (2, N'DGD655', N'Chevrolet', N'Spark (GT + Life)', 60000000, N'SI')
INSERT [dbo].[CARRO] ( [ID], [PLACA], [MARCA], [MODELO], [COSTO], [DISPONIBLE]) VALUES (3, N'FJF745', N'Renault', N'Duster Oroch', 80000000, N'SI')
INSERT [dbo].[CARRO] ( [ID], [PLACA], [MARCA], [MODELO], [COSTO], [DISPONIBLE]) VALUES (4, N'FXF456', N'Ford', N'Ecosport', 70000000, N'SI')


SET IDENTITY_INSERT [dbo].[CARRO] OFF

GO
SET IDENTITY_INSERT [dbo].[ALQUILER] ON 

INSERT [dbo].[ALQUILER] ( [ID], [FECHA], [TIEMPO], [VALORTOTAL], [SALDO], [ABONOINICIAL], [DEVUELTO], [carroId], [clienteId]) VALUES (1, N'2019-02-02', 30, 20000, 10000, 60000, N'NO', 1, 1)
INSERT [dbo].[ALQUILER] ( [ID], [FECHA], [TIEMPO], [VALORTOTAL], [SALDO], [ABONOINICIAL], [DEVUELTO], [carroId], [clienteId]) VALUES (2, N'2020-02-02', 20, 10000, 20000, 40000, N'NO', 1, 1)
INSERT [dbo].[ALQUILER] ( [ID], [FECHA], [TIEMPO], [VALORTOTAL], [SALDO], [ABONOINICIAL], [DEVUELTO], [carroId], [clienteId]) VALUES (3, N'2018-02-02', 10, 15000, 25000, 45000, N'NO', 2, 1)
INSERT [dbo].[ALQUILER] ( [ID], [FECHA], [TIEMPO], [VALORTOTAL], [SALDO], [ABONOINICIAL], [DEVUELTO], [carroId], [clienteId]) VALUES (4, N'2021-02-02', 10, 8000, 7000, 5000, N'NO', 2, 2)


SET IDENTITY_INSERT [dbo].[ALQUILER] OFF



GO
SET IDENTITY_INSERT [dbo].[PAGOS] ON 

INSERT [dbo].[PAGOS] ( [ID], [FECHA], [VALOR], [alquilerId]) VALUES (1, N'2019-02-02', 25000, 1)
INSERT [dbo].[PAGOS] ( [ID], [FECHA], [VALOR], [alquilerId]) VALUES (2, N'2020-02-02', 22000, 1)
INSERT [dbo].[PAGOS] ( [ID], [FECHA], [VALOR], [alquilerId]) VALUES (3, N'2021-02-02', 4000, 1)
INSERT [dbo].[PAGOS] ( [ID], [FECHA], [VALOR], [alquilerId]) VALUES (4, N'2017-02-02', 30000, 2)


SET IDENTITY_INSERT [dbo].[PAGOS] OFF



